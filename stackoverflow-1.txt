ubuntu run text file as command
Ask Question

up vote
21
down vote
favorite
14
If I have a text file with a seperate command on each line how would I make terminal run each line as a command? I just dont want to have to copy and paste 1 line at a time. It doesnt HAVE to be a text file...It can be any kind of file that will work.

example .txt

sudo command 1
sudo command 2
sudo command 3
linux ubuntu terminal command
shareimprove this question
edited Mar 22 '12 at 15:36
asked Mar 22 '12 at 15:31

Blainer
90282237
add a comment
3 Answers
active oldest votes
up vote
37
down vote
accepted
you can make a shell script with those commands, and then chmod +x <scriptname.sh>, and then just run it by

./scriptname.sh
Its very simple to write a bash script

Mockup sh file:

#!/bin/sh
sudo command1
sudo command2 
.
.
.
sudo commandn
shareimprove this answer
edited Jun 26 '15 at 9:34

mido
11.8k54679
answered Mar 22 '12 at 15:33

Chaos
5,06283161
can you write a mockup .sh file with my example – Blainer Mar 22 '12 at 15:35
In linux extensions are not mandatory (you can even create a file with no extensions). It works even if extension is .txt – Saphrosit Mar 22 '12 at 15:37
Yes, but you should have this "#!/bin/sh" at the head of your file so that the kernel knows that its a shell script – Chaos Mar 22 '12 at 15:38 
awesome, i will mark this as the correct answer – Blainer Mar 22 '12 at 15:39
@Blainer great :) – Chaos Mar 22 '12 at 15:44
show 1 more comment

up vote
43
down vote
you can also just run it with a shell, for example:

bash example.txt

sh example.txt
shareimprove this answer
answered Mar 22 '12 at 15:33

kclair
1,47411018
6
Just the shortcut I was looking for. Thanks. – saccharine Mar 14 '13 at 21:26
also to debug it you can use bash -x example.txt – Kalpesh Soni Mar 3 '14 at 16:13
this is why I installed Ubuntu. I knew there's a simpler way. – MJoraid Jul 6 '17 at 5:05
add a comment
up vote
6
down vote
You can use something like this:

for i in `cat foo.txt`
do
    sudo $i
done
Though if the commands have arguments (i.e. there is whitespace in the lines) you may have to monkey around with that a bit to protect the whitepace so that the whole string is seen by sudo as a command. But it gives you an idea on how to start.